# Spring 4. IOC, DI, Container



## IoC, 제어의 역전

- 설명
  - 내가 호출하는 것이 아니라, 프레임워크가 내 코드를 대신 호출하는 것
    - 내가 제어를 하는 것이 아닌데??
  - 구현 객체가 프로그램의 제어 흐름을 스스로 조종하는 것...?
    - AppConfig 를 사용한다면? 어떤 코드가 실행되는지 구현단계에서는 알 수 없다.
    - **프로그램의 제어 흐름을 직접 제어하는 것이 아니라 외부에서 관리하는 것을 제어의 역전 (IoC)라고 한다.**
- 프레임워크 vs 라이브러리
  - 프레임워크 : 내가 작성한 코드를 제어하고 대신 실행한다.
  - 라이브러리 : 내가 작성한 코드가 직접 제어하고 실행한다.



## DI, 의존 관계 주입 

- 설명
  - 의존관계로 인해서 실제 어떤 구현 객체가 들어오는지는 모른다. (인터페이스만 아니까)
  - 정적 클래스 의존관계, 동적인 객체(인스턴스) 의존 관계

- 정적 클래스 의존 관계
  - import 만 보고 바로 판단할 수 있는 것
  - 실행하지 않아도 분석가능
  - 그런데 이것만으로는 명확하게 무엇이 들어오는지 모른다.
- 동적인 객체(인스턴스) 의존관계
  - AppConfig 를 통해서 들어오는 것이 무엇인지 알 수 있겠지??
  - 애플리케이션 실행시점에서 외부에서 구현 객체를 생성하고 클라이언트에 전달해서 서버의 실제 의존관계가 연결되는 것
    - 객체 인스턴스를 연결하고 참조값을 전달한다.
  - 이걸 사용하면 클라이언트 코드를 변경하지 않고 클라이언트에서 호출하는 대상의 타입 인스턴스를  바꿀 수 있다.
  - **정적 클래스 의존관계를 변경하지 않고 동적인 객체 인스턴스를 변경할 수 있다.**





## Container

- ioc container, di container
- 설명
  - AppConfig 처럼 객체를 생성하고 관리하면서 의존관계를 연결해주는 것
  - ioc 와 di 를 해주는 컨테이너라서 이렇게 부른다.
- AppConfig 에 대해서 애플리케이션을 하나하나 조립한다고 해서 어셈블러 라고도 하고 오브젝트를 만들어야 해서 오브젝트 팩토리라고도 부른다.

